<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="LzMiracle">





<title>JQuery 小试牛刀 | LzMiracle</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/fireworks.js"></script>
<meta name="generator" content="Hexo 4.2.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">LzMiracle&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">文章</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">LzMiracle&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">文章</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">JQuery 小试牛刀</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">LzMiracle</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">五月 11, 2020&nbsp;&nbsp;16:42:16</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="JQ版本"><a href="#JQ版本" class="headerlink" title="JQ版本"></a>JQ版本</h1><ul>
<li>1.x: 兼容ie678，使用最为广泛的，官方只做bug维护，功能不再新增。因此一般项目来说，使用1.x版本就可以了，最终版本：1.12.4 </li>
<li>2.x: 不兼容ie678，很少人使用，官方只做bug维护，功能不再新增。如果不考虑兼容版本低的浏览器可以使用2.x，最终版本：2.2.4 </li>
<li>3.x: 不兼容ie678，只支持最新的浏览器。除非特殊要求，一般不会使用3.x版本的，很多老的jQuery插件不支持这个版本。目前该版本是官方主要更新维护的版本。截至2018年6月13日，最新版本：3.3.1 </li>
</ul>
<h1 id="基础内容"><a href="#基础内容" class="headerlink" title="基础内容"></a>基础内容</h1><ul>
<li>引用</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../jquery/jquery-3.4.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">下载地址:https://jquery.com/       //官网下载</span><br></pre></td></tr></table></figure>

<ul>
<li>基本用法</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//等着页面Dom加载完在执行js代码两种写法</span></span><br><span class="line">   <span class="number">1</span>、</span><br><span class="line">   $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'div'</span>).hide();</span><br><span class="line">     &#125;)</span><br><span class="line">   <span class="number">2</span>、</span><br><span class="line">   $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">//常用方式</span></span><br><span class="line">    $(<span class="string">'div'</span>).hide();</span><br><span class="line">   &#125;)</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>DOM对象：用JQ方法获取到的对象</p>
</li>
<li><p>JQ对象：用原生JS获取到的对象</p>
</li>
<li><p>两种对象的属性和方法不能通用</p>
</li>
<li><p>JQ对象和DOM对象的转换</p>
<ul>
<li><p>DOM对象转换为JQ对象 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.getElementsByTagName(<span class="string">"div"</span>);</span><br><span class="line">$(div);</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<ul>
<li><p>JQ对象转换为DOM对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).[<span class="number">0</span>].方法</span><br><span class="line">$(<span class="string">'div'</span>).get(<span class="number">0</span>).方法</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;video src=<span class="string">""</span> muted&gt;<span class="xml"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span> <span class="comment">//在谷歌浏览器使用video标签时要加"muted"这个属性</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<ul>
<li><p>原生JS和JQ的区别</p>
<ul>
<li>原生JS和JQ入口的加载模式不同<ul>
<li>原生JS会等到DOM元素加载完毕并且图片加载完才会执行</li>
<li>JQ会等到DOM元素加载完毕但不会等到图片加载完毕就执行</li>
</ul>
</li>
<li>编写多个入口函数<ul>
<li>原生JS后面写的入口函数会覆盖掉前面写的函数</li>
<li>JQ会按顺序执行所有函数，不会覆盖</li>
</ul>
</li>
</ul>
</li>
<li><p>JQ的冲突问题</p>
<ul>
<li><p>在引用多个JS时有可能$符号的使用权被覆盖掉，解决方法:</p>
<ol>
<li><p>释放$的使用权</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JQuery.noConflict(); <span class="comment">//释放之后就不能使用$符号了</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>自定义符号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nj=JQuery.noConflict();</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
</li>
</ul>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="1-核心函数"><a href="#1-核心函数" class="headerlink" title="1.核心函数"></a>1.核心函数</h2><ul>
<li><p>$()</p>
<ol>
<li><p>接收一个函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box1"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;div id=<span class="string">"box2"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>接收一个字符串选择器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box1=$(<span class="string">".box1"</span>);</span><br><span class="line"><span class="keyword">var</span> box2=$(<span class="string">"#box2"</span>);</span><br><span class="line"><span class="comment">//返回一个JQ对象，对象中保存了获取的DOM元素</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>接收一个字符串代码片段(他会自动生成一个DOM元素)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p=$(<span class="string">"&lt;p&gt;123456&lt;/p&gt;"</span>);</span><br><span class="line">box1.append(p); <span class="comment">//在页面打印出来</span></span><br><span class="line"><span class="comment">//返回一个JQ对象，对象中保存了创建的DOM元素</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>接收一个DOM元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> span=<span class="built_in">document</span>.getElementsByTagName(<span class="string">"span"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//如果用JQ方法获取原生JS对象，则会把它包装成一个JQ对象</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>JQ对象</p>
<ul>
<li>JQ对象就是一个伪数组</li>
<li>伪数组:有0到length-1的属性，并且有length属性            </li>
</ul>
</li>
</ul>
<h2 id="2-静态方法和实例方法"><a href="#2-静态方法和实例方法" class="headerlink" title="2.静态方法和实例方法"></a>2.静态方法和实例方法</h2><ol>
<li><p>静态方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>义一个类</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AClass</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="number">2.</span>给这个类定义一个静态方法</span><br><span class="line"><span class="comment">//直接添加给类的就是静态方法</span></span><br><span class="line">     AClass.staticMethod=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         </span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//静态方法通过类名调用</span></span><br><span class="line">AClass.staticMethod();</span><br></pre></td></tr></table></figure>
</li>
<li><p>实例方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AClass.prototype.instanceMethod=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例方法通过类的实例调用</span></span><br><span class="line"><span class="comment">//创建一个实例（创建一个对象）</span></span><br><span class="line"><span class="keyword">var</span> a =<span class="keyword">new</span> AClass();</span><br><span class="line">a.instanceMethod();</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h3 id="2-1静态方法"><a href="#2-1静态方法" class="headerlink" title="2.1静态方法"></a>2.1静态方法</h3><ul>
<li><p>each方法</p>
<ul>
<li><p>遍历数组</p>
</li>
<li><p>注意点</p>
<ul>
<li>JS的foreach方法只能遍历数组遍历不了伪数组  </li>
<li>JQ的each方法可以遍历伪数组        </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>];</span><br><span class="line"><span class="keyword">var</span> arr=&#123;<span class="number">0</span>:<span class="number">1</span>,<span class="number">1</span>:<span class="number">3</span>,<span class="number">2</span>:<span class="number">5</span>,<span class="number">3</span>:<span class="number">7</span>,<span class="number">4</span>:<span class="number">9</span>,<span class="attr">length</span>:<span class="number">5</span>&#125;;   <span class="comment">//伪数组</span></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">index,value</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//第一个参数:索引值</span></span><br><span class="line">  <span class="comment">//第二个参数:数组值</span></span><br><span class="line">&#125;)</span><br><span class="line">$.each(arr,<span class="function"><span class="keyword">function</span>(<span class="params">value,index</span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>map方法</p>
<ul>
<li><p>遍历数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">用原生JS方法遍历不了伪数组</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>];</span><br><span class="line"><span class="keyword">var</span> arr=&#123;<span class="number">0</span>:<span class="number">1</span>,<span class="number">1</span>:<span class="number">3</span>,<span class="number">2</span>:<span class="number">5</span>,<span class="number">3</span>:<span class="number">7</span>,<span class="number">4</span>:<span class="number">9</span>,<span class="attr">length</span>:<span class="number">5</span>&#125;;   <span class="comment">//伪数组</span></span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">index,value,array</span>)</span>&#123;</span><br><span class="line"><span class="comment">//第一个参数:索引值</span></span><br><span class="line"><span class="comment">//第二个参数:数组值</span></span><br><span class="line"><span class="comment">//第三个参数:当前被遍历到的数组   </span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">JQ方法</span><br><span class="line">$.map(arr,<span class="function"><span class="keyword">function</span>(<span class="params">value,index</span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>map方法和each方法区别</p>
<ul>
<li>map的默认返回值是一个空数组</li>
<li>map方法可以在回调函数中用return对遍历的数组进行处理</li>
<li>each的返回值是遍历谁就返回谁</li>
<li>each方法不支持在回调函数中使用</li>
</ul>
</li>
<li><p>trim</p>
<ul>
<li><p>去除字符串的空格</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">"		str		"</span>;</span><br><span class="line"><span class="keyword">var</span> res=$.trim(str);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>isWindow</p>
<ul>
<li><p>判断是否是window对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>];   <span class="comment">//真数组</span></span><br><span class="line"><span class="keyword">var</span> arr=&#123;<span class="number">0</span>:<span class="number">1</span>,<span class="number">1</span>:<span class="number">3</span>,<span class="number">2</span>:<span class="number">5</span>,<span class="number">3</span>:<span class="number">7</span>,<span class="number">4</span>:<span class="number">9</span>,<span class="attr">length</span>:<span class="number">5</span>&#125;;  <span class="comment">//伪数组</span></span><br><span class="line"><span class="keyword">var</span> name=&#123;<span class="string">"name"</span>:<span class="string">"abc"</span>,<span class="string">"age"</span>:<span class="string">"1"</span>&#125;;    <span class="comment">//对象</span></span><br><span class="line"><span class="keyword">var</span> fn=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;   <span class="comment">//函数</span></span><br><span class="line"><span class="keyword">var</span> s=<span class="built_in">window</span>;         <span class="comment">//window对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rs=$.isWindow();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>isArray</p>
<ul>
<li><p>判断是否是数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rs=$.isArray();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>isFunction</p>
<ul>
<li><p>判断是否是函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rs=$.isFunction();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>holdReady</p>
<ul>
<li><p>暂停ready执行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$.holdReady(ture); <span class="comment">//ture 是暂停 false是恢复</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">"ready"</span>);</span><br><span class="line">&#125;)</span><br><span class="line">&lt;button&gt;ready事件&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">var btn=document.getElementsByTagName("button")[0];</span></span><br><span class="line"><span class="regexp">btn.onclick=function()&#123;</span></span><br><span class="line"><span class="regexp">    $.holdReady(false);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="3-attr和removeAttr"><a href="#3-attr和removeAttr" class="headerlink" title="3.attr和removeAttr"></a>3.attr和removeAttr</h2><ul>
<li><p>attr</p>
<ul>
<li>获取或者设置属性节点得值</li>
<li>注意:<ul>
<li>无论找到多少个元素，都会返回第一个元素指定的属性节点的值</li>
<li>如果是设置，找到多少个元素就设置多少个元素,如果设置的属性节点不存在系统会自动增加</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"123"</span> name=<span class="string">"cba"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"321"</span> name=<span class="string">"abc"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">$(<span class="string">"span"</span>).attr(<span class="string">"class"</span>);     <span class="comment">//获取</span></span><br><span class="line">$(<span class="string">"span"</span>).attr(<span class="string">"class"</span>,<span class="string">"要修改的名称"</span>);    <span class="comment">//设置</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>removeAttr</p>
<ul>
<li>会删除找到的所有元素的指定属性节点</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;span&quot;).removeAttr(&quot;class&quot;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="4-prop和removeProp"><a href="#4-prop和removeProp" class="headerlink" title="4.prop和removeProp"></a>4.prop和removeProp</h2><ul>
<li><p>prop</p>
<ul>
<li><p>特性和功能和attr一样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"span"</span>).eq(<span class="number">0</span>).prop(<span class="string">"class"</span>);  <span class="comment">//获取</span></span><br><span class="line">$(<span class="string">"span"</span>).eq(<span class="number">1</span>).prop(<span class="string">"class"</span>，“demo);   <span class="comment">//设置</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>removeProp</p>
<ul>
<li><p>特性和功能和removeAttr一样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;span&quot;).eq(0).removeProp(&quot;class&quot;);  &#x2F;&#x2F;获取</span><br><span class="line">$(&quot;span&quot;).eq(1).removeProp(&quot;class&quot;，“demo);   &#x2F;&#x2F;设置</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="5-prop和attr的区别"><a href="#5-prop和attr的区别" class="headerlink" title="5.prop和attr的区别"></a>5.prop和attr的区别</h2><blockquote>
<p>具有true和false的属性节点推荐使用prop 其它的推荐用attr</p>
</blockquote>
<ul>
<li><p>attr的返回值是具体的属性节点值没有的话是返回undefined</p>
</li>
<li><p>prop的返回值是true和false</p>
</li>
</ul>
<h1 id="内容选择器"><a href="#内容选择器" class="headerlink" title="内容选择器"></a>内容选择器</h1><ul>
<li><p>empty</p>
<ul>
<li><p>筛选出相同元素中既没有子元素和内容的那些元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=$(<span class="string">"div:empty"</span>);</span><br><span class="line">&lt;div&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;div&gt;<span class="number">123</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;&lt;p&gt;&lt;/</span>p&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>parent</p>
<ul>
<li><p>筛选出相同元素中既有子元素和内容的那些元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=$(<span class="string">"div:parent"</span>);</span><br><span class="line">&lt;div&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;div&gt;<span class="number">123</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;&lt;p&gt;&lt;/</span>p&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>contains(text)</p>
<ul>
<li><p>筛选出相同元素中有指定文本内容的元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=$(<span class="string">"div:contains('123')"</span>);</span><br><span class="line">&lt;div&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;div&gt;<span class="number">123</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;&lt;p&gt;&lt;/</span>p&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>has(元素)</p>
<ul>
<li><p>筛选出相同元素中有指定子元素的元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=$(<span class="string">"div:has('p')"</span>);</span><br><span class="line">&lt;div&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;div&gt;<span class="number">123</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;&lt;p&gt;&lt;/</span>p&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>隐式迭代就是把匹配到的所有元素内部进行遍历循环，给每一个元素添加一个方法</p>
</li>
</ul>
<p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191105161045718.png" alt="image-20191105161045718"></p>
<p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191105161509356.png" alt="image-20191105161509356"></p>
<h1 id="属性和属性节点"><a href="#属性和属性节点" class="headerlink" title="属性和属性节点"></a>属性和属性节点</h1><ul>
<li><p>属性:对象上保存的变量就是属性</p>
</li>
<li><p>属性操作</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对象.属性名称=值；</span><br><span class="line">对象[<span class="string">"属性名称"</span>]=值；</span><br></pre></td></tr></table></figure>
</li>
<li><p>属性节点</p>
<ul>
<li><p>在编写HTML代码时,在HTML标签中添加的属性就是属性节点</p>
</li>
<li><p>在浏览器中找到DOM元素，展开看到的都是属性，在[”0“].attributes属性中保持的所有内容都是属性节点</p>
</li>
<li><p>操作属性节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="keyword">var</span> span =<span class="built_in">document</span>.getElementsByTagName(<span class="string">"span"</span>)[<span class="number">0</span>];</span><br><span class="line">span.setAttribute(<span class="string">"name"</span>,<span class="string">"123"</span>);</span><br><span class="line">span.getAttribute(<span class="string">"name"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>属性和属性节点的区别</p>
<ul>
<li>任何属性都有属性，但是只有DOM属性才有属性节点</li>
</ul>
</li>
</ul>
<h1 id="操作类的方法"><a href="#操作类的方法" class="headerlink" title="操作类的方法"></a>操作类的方法</h1><ul>
<li><p>添加类</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.class1</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">width</span><span class="selector-pseudo">:50px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">height</span><span class="selector-pseudo">:50px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">background</span><span class="selector-pseudo">:red</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.class2</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">border</span><span class="selector-pseudo">:10px</span> <span class="selector-tag">solid</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>添加类<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>切换类<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>删除类<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">var btns = document.getElementsByTagName("button");</span><br><span class="line">btns[0].onclick=function()&#123;</span><br><span class="line">$('div').addClass("class1");   //添加多个类，类名要用空格隔开</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除类</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btns[1].onclick=function()&#123;</span><br><span class="line">$('div').removeClass("class1");    //添加多个类，类名要用空格隔开</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>切换类</p>
<ul>
<li><p>有就删除没有就添加</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btns[1].onclick=function()&#123;</span><br><span class="line">$('div').toggleClass("class1");    //添加多个类，类名要用空格隔开</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h1 id="html文本值操作"><a href="#html文本值操作" class="headerlink" title="html文本值操作"></a>html文本值操作</h1><ul>
<li><p>html</p>
<ul>
<li><p>和原生JS的innerHTML一样</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>添加HTML<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取HTML<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>添加Text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取Text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>添加Value<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取Value<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">var btns = document.getElementsByTagName("button");</span><br><span class="line">btns[0].onclick=function()&#123;</span><br><span class="line">$('div').html("<span class="tag">&lt;<span class="name">p</span>&gt;</span>111<span class="tag">&lt;<span class="name">span</span>&gt;</span>222<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>");   //添加HTML</span><br><span class="line">console.log($('div').html());                  //获取HTML</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Text</p>
<ul>
<li><p>和原生JS的innerText一样</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var btns = document.getElementsByTagName("button");</span><br><span class="line">btns[0].onclick=function()&#123;</span><br><span class="line">$('div').text("111222");                       //添加Text</span><br><span class="line">console.log($('div').text());                  //获取Text</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Value</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var btns = document.getElementsByTagName("button");</span><br><span class="line">btns[0].onclick=function()&#123;</span><br><span class="line">$('input').val("111222");                       //添加value</span><br><span class="line">console.log($('div').val());                  //获取value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="CSS属性的操作"><a href="#CSS属性的操作" class="headerlink" title="CSS属性的操作"></a>CSS属性的操作</h1><ul>
<li>修改和获取css</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">$(function()&#123;</span><br><span class="line">$('div').css(&#123;</span><br><span class="line">     width:"100px",</span><br><span class="line">     height:"100px"                    //修改</span><br><span class="line">&#125;);</span><br><span class="line">console.log($('div').css("width"));   // 获取</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>获取和修改css中的宽高</p>
<ul>
<li>不包含边框的宽度</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123; </span><br><span class="line">$('div').width("500px");          //修改</span><br><span class="line">console.log($('div').width());   // 获取</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>offset()</p>
<ul>
<li><p>获取元素距离窗口的偏移位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">$(&#39;div&#39;).offset().left;     &#x2F;&#x2F; 获取距离窗口左边的距离  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>position()</p>
<ul>
<li><p>获取元素距离元素的偏移位</p>
</li>
<li><p>这个方法只能获取不能修改要修改直接用修改css的那个方法就好</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">$('div').position().left;     // 获取距离元素左边的距离  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>获取网页滚动距离</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">$(&#39;div&#39;).scrollTop();     &#x2F;&#x2F; 获取网页元素</span><br><span class="line">&#x2F;&#x2F;为了保证浏览器兼容 一般要这么写</span><br><span class="line">$(&#39;html,body&#39;).scrollTop();</span><br><span class="line">&#x2F;&#x2F;设置偏移量 为了保证浏览器兼容</span><br><span class="line">$(&#39;html,body&#39;).scrollTop(偏移量)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><h2 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h2><ul>
<li><p>两种方式(可以添加多个事件，不会被覆盖)</p>
<ul>
<li><p>$(‘属性’).事件名称(function(){})</p>
<ul>
<li>效率略高 但是不能实现所有事件 部分事件JQ没有添加</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"111"</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>$(‘属性’).on(“事件名称”,function(){})</p>
<ul>
<li>效率略低，能实现所有事件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"111"</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="事件移除"><a href="#事件移除" class="headerlink" title="事件移除"></a>事件移除</h2><ul>
<li><p>off(“事件名称”)</p>
<ul>
<li><p>如果不传参数，则会把所有事件方法移除</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).off(<span class="string">"click"</span>);</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="事件冒泡和默认行为"><a href="#事件冒泡和默认行为" class="headerlink" title="事件冒泡和默认行为"></a>事件冒泡和默认行为</h2><ul>
<li><p>事件冒泡</p>
<ul>
<li><p>当一个子元素和父元素同时存在事件时，触发子元素的事件父元素的事件也会被触发</p>
</li>
<li><p>阻止冒泡行为</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">$('.father').click(function()&#123;</span><br><span class="line">alert("father");</span><br><span class="line">&#125;)</span><br><span class="line">$('.son').click(function(event)&#123;</span><br><span class="line">alert("son");</span><br><span class="line">return false   //第一种方法</span><br><span class="line">event.stopPropagation();  //第二种方法 添加event参数</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>事件默认行为</p>
<ul>
<li><p>比如a标签的默认行为时跳转</p>
</li>
<li><p>阻止默认行为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'a'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">alert(<span class="string">"aaa"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;   <span class="comment">//第一种方法</span></span><br><span class="line">event.preventDefault();  <span class="comment">//第二种方法</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="事件自动触发"><a href="#事件自动触发" class="headerlink" title="事件自动触发"></a>事件自动触发</h2><ul>
<li><p>trigger()</p>
<ul>
<li><p>会触发冒泡和默认行为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).trigger(<span class="string">"click"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>triggerHandler()</p>
<ul>
<li><p>不会触发冒泡和默认行为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.son'</span>).triggerHandler(<span class="string">"click"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>一个小面试题</p>
<ul>
<li><p>a标签如果有trigger和triggerHandler自动触发是不会触发默认行为的如果要同时自动触发事件和默认行为需要加个span标签</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>span&gt;aaa<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">$('span').click(function()&#123;</span><br><span class="line">alert("111");</span><br><span class="line">&#125;)</span><br><span class="line">$('span').trigger("click");</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h2><ul>
<li>自定义事件要满足两个条件<ul>
<li>事件必须是通过on来绑定</li>
<li>事件必须通过trigger或triggerHandler来触发</li>
</ul>
</li>
</ul>
<h2 id="事件命名空间"><a href="#事件命名空间" class="headerlink" title="事件命名空间"></a>事件命名空间</h2><ul>
<li><p>想要事件命名空间有效要满足两个条件</p>
<ul>
<li><p>事件是通过on来绑定的</p>
</li>
<li><p>事件必须通过trigger或triggerHandler来触发</p>
</li>
<li><p>利用trigger触发的子元素带命名空间的事件，那么父元素带相同命名空间的事件也会触发如果没有则不会触发</p>
</li>
<li><p>利用trigger触发的子元素不带命名空间的事件，那么子元素和父元素所有相同类型的事件都会被触发</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).on(<span class="string">"click.名称"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      alert(<span class="string">"111"</span>);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><ul>
<li><p>请别人帮忙做事，再把结果反馈给我们</p>
<ul>
<li><p>在JQuery中，如果找到的元素不止一个，那么在添加事件的时候会把所有找到的元素都添加事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     $(<span class="string">'ul'</span>).append(<span class="string">"&lt;li&gt;111&lt;/li&gt;"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>事件委托例子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;<span class="number">111</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;li&gt;222&lt;/</span>li&gt;</span><br><span class="line">&lt;li&gt;<span class="number">333</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;button&gt;新增一个&lt;/</span>button&gt;</span><br><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     $(<span class="string">'ul'</span>).append(<span class="string">"&lt;li&gt;111&lt;/li&gt;"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="number">1</span>- $(<span class="string">'ul&gt;li'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="keyword">this</span>).html()); <span class="comment">//如果是这么写，那么在点击新建的li时则不会打印</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="number">2</span>- $(<span class="string">'ul'</span>).delegate(<span class="string">"li"</span>,<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    </span><br><span class="line">        <span class="built_in">console</span>.log($(<span class="keyword">this</span>).html());<span class="comment">//如果是这么写，那么在点击新建的li时则会打印</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>小练习</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  			$(<span class="string">'a'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  			<span class="keyword">var</span> mask= $(<span class="string">"&lt;div class=\"mask\"&gt;\n"</span>+</span><br><span class="line">  				<span class="string">"&lt;div class=\"login\"&gt;\n"</span>+</span><br><span class="line">  				<span class="string">"&lt;img src=\"C:/Users/Administrator/Pictures/Saved Pictures/league.jpg\" alt=\"\"&gt;\n"</span>+</span><br><span class="line">  				<span class="string">"&lt;span&gt;&lt;/span&gt;\n"</span>+</span><br><span class="line">  				<span class="string">"&lt;/div&gt;\n"</span>+</span><br><span class="line">  				<span class="string">"&lt;/div&gt;"</span>);            <span class="comment">//要记住转义</span></span><br><span class="line">  			$(<span class="string">'body'</span>).append(mask);</span><br><span class="line">  			$(<span class="string">'body'</span>).delegate(<span class="string">".login&gt;span"</span>,<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  				mask.remove();</span><br><span class="line">  			&#125;)</span><br><span class="line">               <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  		&#125;);</span><br><span class="line">  		&#125;);</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h2 id="事件移入移出"><a href="#事件移入移出" class="headerlink" title="事件移入移出"></a>事件移入移出</h2><ul>
<li><p>mouseover()和mouseout()</p>
<ul>
<li><p>子元素被移入移出也会触发父极的事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"father"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"son"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   $(<span class="string">'.father'</span>).mouseover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"被移入了"</span>);</span><br><span class="line">   &#125;);</span><br><span class="line">    $(<span class="string">'.father'</span>).mouseout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"被移出了"</span>);</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>mouseenter()和mouseleave()</p>
<ul>
<li><p>子元素被移入移出不会触发父极的事件(推荐使用)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   $(<span class="string">'.father'</span>).mouseenter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"被移入了"</span>);</span><br><span class="line">   &#125;);</span><br><span class="line">    $(<span class="string">'.father'</span>).mouseleave(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"被移出了"</span>);</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>hover()</p>
<ul>
<li><p>既可以监听移入也可以监听移出</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   $(<span class="string">'.father'</span>).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"被移入了"</span>);</span><br><span class="line">   &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;                       </span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"被移出了"</span>);     <span class="comment">//如果只加一个参数就是既监听移入也监听移出</span></span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>siblings()</p>
<ul>
<li>找到那些没被触发的元素</li>
</ul>
</li>
</ul>
<h1 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h1><ul>
<li><p>建议在执行动画之前都先调用stop()方法，在执行动画</p>
</li>
<li><p>显示和隐藏动画</p>
<ul>
<li><p>show()和hide()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).show(<span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).hide(<span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).toggle(<span class="number">1000</span>);          <span class="comment">//切换有就隐藏无则显示</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>例子</p>
<ul>
<li><p>图片根据网页滚动显示</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;        <span class="comment">//监听网页滚动</span></span><br><span class="line">    <span class="keyword">var</span> offset=$(<span class="string">"html,body"</span>).scrollTop();</span><br><span class="line">    <span class="keyword">if</span>(offset&gt;=<span class="number">200</span>)&#123;</span><br><span class="line">        $(<span class="string">'img'</span>).show(<span class="number">1000</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $(<span class="string">'img'</span>).hide(<span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>展开和收起</p>
<ul>
<li><p>slideDown()和slideUp()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).slideDown(<span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).slideUp(<span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).slideToggle(<span class="number">1000</span>);          <span class="comment">//切换有就收起无则展开</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>淡入和淡出</p>
<ul>
<li><p>fadeIn()和fadeOut()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).fadeIn(<span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).fadeOut(<span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).fadeToggle(<span class="number">1000</span>);          <span class="comment">//切换有就淡出无则淡入</span></span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">"button"</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'div'</span>).fadeTo(<span class="number">1000</span>,<span class="number">0.5</span>);          <span class="comment">//淡入到</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>弹窗广告</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"ad"</span>&gt;</span><br><span class="line">    &lt;img src=<span class="string">""</span>&gt;</span><br><span class="line">        &lt;span&gt;<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">$(function()&#123;</span></span><br><span class="line"><span class="regexp">   $("span").click(function()&#123;</span></span><br><span class="line"><span class="regexp">       $(".ad").remove();</span></span><br><span class="line"><span class="regexp">   &#125;);</span></span><br><span class="line"><span class="regexp">        $(".ad").stop().slideDown(1000).fadeOut(1000).fadeIn(1000);</span></span><br><span class="line"><span class="regexp">    &#125;);        </span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>自定义动画</p>
<ul>
<li><p>animate()</p>
</li>
<li><p>第一个参数：接收一个对象，可以在对象中修改属性</p>
</li>
<li><p>第二个参数：指定动画时长</p>
</li>
<li><p>第三个参数：指定动画节奏，默认是swing</p>
</li>
<li><p>第四个参数：动画执行完毕后的回调函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"div"</span>).animate(&#123;</span><br><span class="line">        width:<span class="string">"+=100"</span>  <span class="comment">//在原有宽度上加100</span></span><br><span class="line">        marginLeaf:<span class="number">500</span> <span class="comment">//使它距离左边500px</span></span><br><span class="line">        width:<span class="string">"hide"</span>   <span class="comment">//使宽度隐藏</span></span><br><span class="line">    &#125;,<span class="number">1000</span>,<span class="string">"linear"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>stop()和delay()</p>
<ul>
<li><p>停止和延迟</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function()&#123;</span><br><span class="line">    $(&quot;div&quot;).animate(&#123;</span><br><span class="line">        width:&quot;+&#x3D;100&quot;  &#x2F;&#x2F;在原有宽度上加100</span><br><span class="line">        marginLeaf:500 &#x2F;&#x2F;使它距离左边500px</span><br><span class="line">        width:&quot;hide&quot;   &#x2F;&#x2F;使宽度隐藏</span><br><span class="line">    &#125;,1000).delay(2000).animate(&#123;</span><br><span class="line">        height:200</span><br><span class="line">    &#125;);</span><br><span class="line">    &#x2F;&#x2F;立即停止当前动画，继续执行后续动画</span><br><span class="line">    $(&quot;div&quot;).stop();</span><br><span class="line">    $(&quot;div&quot;).stop(false);</span><br><span class="line">    $(&quot;div&quot;).stop(false,false);</span><br><span class="line">    &#x2F;&#x2F;立即停止当前动画和后续所有动画</span><br><span class="line">    $(&quot;div&quot;).stop(true);</span><br><span class="line">    $(&quot;div&quot;).stop(true,false);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;立即完成当前的，继续执行后面的</span><br><span class="line">    $(&quot;div&quot;).stop(false,true);</span><br><span class="line">    &#x2F;&#x2F;立即完成当前的，停止后面所有的</span><br><span class="line">    $(&quot;div&quot;).stop(true,true);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h1 id="節點"><a href="#節點" class="headerlink" title="節點"></a>節點</h1><h2 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h2><ul>
<li><h3 id="内部插入"><a href="#内部插入" class="headerlink" title="内部插入"></a>内部插入</h3><ul>
<li><p>将元素添加到指定元素内部的最后</p>
<ul>
<li>append(content|fn)</li>
<li>appendTo(content)</li>
</ul>
</li>
<li><p>将元素添加到指定元素内部的最前</p>
<ul>
<li>prepend(content|fn)</li>
<li>prependTo(content)</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">   $(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> li=$(<span class="string">"&lt;li&gt;新增的&lt;/li&gt;"</span>);</span></span><br><span class="line"><span class="javascript">       $(<span class="string">'ul'</span>).append(li);</span></span><br><span class="line"><span class="actionscript">       li.appendTo(<span class="string">'ul'</span>);   </span></span><br><span class="line"><span class="actionscript">       <span class="comment">//</span></span></span><br><span class="line"><span class="javascript">       $(<span class="string">'ul'</span>).prepend(li);</span></span><br><span class="line"><span class="actionscript">       li.prependTo(<span class="string">'ul'</span>);</span></span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>11<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>22<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>33<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">    新增一个节点</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>外部插入</p>
<ul>
<li><p>after(content|fn)和insertAfter(content)</p>
<ul>
<li>将元素添加到指定元素外部的后面</li>
</ul>
</li>
<li><p>before(content|fn)和insertBefore(content)</p>
<ul>
<li>将指定元素添加到元素外部的前面</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">   $(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> li=$(<span class="string">"&lt;li&gt;新增的&lt;/li&gt;"</span>);</span></span><br><span class="line"><span class="javascript">       $(<span class="string">'ul'</span>).after(li);</span></span><br><span class="line"><span class="actionscript">       li.insertAfter(<span class="string">'ul'</span>);   </span></span><br><span class="line"><span class="actionscript">       <span class="comment">//</span></span></span><br><span class="line"><span class="javascript">       $(<span class="string">'ul'</span>).before(li);</span></span><br><span class="line"><span class="actionscript">       li.insertBefore(<span class="string">'ul'</span>);</span></span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>11<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>22<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>33<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">    新增一个节点</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h2><ul>
<li><p>remove()和detach()</p>
<ul>
<li>删除指定元素</li>
</ul>
</li>
<li><p>empty()</p>
<ul>
<li><p>删除指定元素的内容和子元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">   $(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">       $(<span class="string">'ul'</span>).remove(li);</span></span><br><span class="line"><span class="javascript">       $(<span class="string">'li'</span>).detach(<span class="string">"属性名"</span>);</span></span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>11<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>22<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>33<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    这是div</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        一个段落</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">    删除一个节点</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="替换节点"><a href="#替换节点" class="headerlink" title="替换节点"></a>替换节点</h2><ul>
<li><p>replaceWith()replaceAll()</p>
<ul>
<li><p>替换所有匹配的元素为指定元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   $(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">var</span> h=$(<span class="string">"&lt;h6&gt;标题6&lt;/h6&gt;"</span>);</span><br><span class="line">       $(<span class="string">'h1'</span>).replaceWith(h);</span><br><span class="line">       h.replaceAll(<span class="string">"h1"</span>);</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;h1&gt;标题1&lt;/</span>h1&gt;</span><br><span class="line">&lt;h1&gt;标题<span class="number">1</span>&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;h3&gt;标题3&lt;/</span>h3&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="复制节点"><a href="#复制节点" class="headerlink" title="复制节点"></a>复制节点</h2><ul>
<li><p>clone()</p>
<ul>
<li><p>如果传入false就是浅复制传入true就是深复制</p>
</li>
<li><p>浅复制只会复制元素，不会复制元素的事件</p>
</li>
<li><p>深复制会复制元素和元素的事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   $(<span class="string">'button'</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">var</span> h=$(<span class="string">"li:first"</span>).clone(<span class="literal">false</span>);</span><br><span class="line">       $(<span class="string">'ul'</span>).append(h);</span><br><span class="line">   &#125;);</span><br><span class="line">    $(<span class="string">'button'</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">var</span> h=$(<span class="string">"li:first"</span>).clone(<span class="literal">false</span>);</span><br><span class="line">       $(<span class="string">'ul'</span>).append(h);</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h1 id="JQ原理"><a href="#JQ原理" class="headerlink" title="JQ原理"></a>JQ原理</h1><h2 id="JQ基本结构"><a href="#JQ基本结构" class="headerlink" title="JQ基本结构"></a>JQ基本结构</h2><ol>
<li>JQuery本质就是一个闭包</li>
<li>为什么要用多个闭包来实现？为了避免多个框架冲突</li>
<li>JQuery如何让外界访问内部定义变量 ？window.xxx=xxx;</li>
<li>为什么要给自己传递一个window参数？<ol>
<li>为了方便后期压缩代码</li>
<li>为了提升查找代码的效率</li>
</ol>
</li>
<li>JQuery为什么要给自己接收一个undefined参数？<ol>
<li>为了后期压缩代码</li>
<li>IE9以下的浏览器undefined可以被修改，为了保证内部使用的undefined不被修改，所以需要接收一个正确的undefined</li>
</ol>
</li>
</ol>
<h2 id="JQ入口函数"><a href="#JQ入口函数" class="headerlink" title="JQ入口函数"></a>JQ入口函数</h2><ol>
<li><p>传入 ‘ ‘,null,undefined,NaN,0,false </p>
<blockquote>
<p>会返回一个空的JQ对象给我们</p>
</blockquote>
</li>
<li><p>传入html片段 </p>
<blockquote>
<p>会将创建好的DOM元素存储到JQuery对象中返回</p>
</blockquote>
</li>
<li><p>传入选择器</p>
<blockquote>
<p>会将找到的所有元素存储到JQuery对象中返回</p>
</blockquote>
</li>
<li><p>传入数组和伪数组</p>
<blockquote>
<p>会将数组中存储元素存储到JQuery对象中返回</p>
</blockquote>
</li>
<li><p>传入对象和DOM元素</p>
<blockquote>
<p>会将对象和DOM元素存储到JQuery对象中返回</p>
</blockquote>
</li>
<li><p>传入基本数据类型 </p>
<blockquote>
<p>会将传入的基本数据存储到JQuery对象中返回</p>
</blockquote>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> window, undefined </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> njQuery = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> njQuery.prototype.init(selector);</span><br><span class="line">    &#125;</span><br><span class="line">    njQuery.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: njQuery,</span><br><span class="line">        init: function (selector) &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             1.传入 '' null undefined NaN  0  false, 返回空的jQuery对象</span></span><br><span class="line"><span class="comment">             2.字符串:</span></span><br><span class="line"><span class="comment">             代码片段:会将创建好的DOM元素存储到jQuery对象中返回</span></span><br><span class="line"><span class="comment">             选择器: 会将找到的所有元素存储到jQuery对象中返回</span></span><br><span class="line"><span class="comment">             3.数组:</span></span><br><span class="line"><span class="comment">             会将数组中存储的元素依次存储到jQuery对象中立返回</span></span><br><span class="line"><span class="comment">             4.除上述类型以外的:</span></span><br><span class="line"><span class="comment">             会将传入的数据存储到jQuery对象中返回</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="comment">// 0.去除字符串两端的空格</span></span><br><span class="line">            selector = njQuery.trim(selector);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 1.传入 '' null undefined NaN  0  false, 返回空的jQuery对象</span></span><br><span class="line">            <span class="keyword">if</span>(!selector)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 2.方法处理</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(njQuery.isFunction(selector))&#123;</span><br><span class="line">                njQuery.ready(selector);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 3.字符串</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(njQuery.isString(selector))&#123;</span><br><span class="line">                <span class="comment">// 2.1判断是否是代码片段 &lt;a&gt;</span></span><br><span class="line">                <span class="keyword">if</span>(njQuery.isHTML(selector))&#123;</span><br><span class="line">                    <span class="comment">// 1.根据代码片段创建所有的元素</span></span><br><span class="line">                    <span class="keyword">var</span> temp = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">                    temp.innerHTML = selector;</span><br><span class="line">                    <span class="comment">/*</span></span><br><span class="line"><span class="comment">                    // 2.将创建好的一级元素添加到jQuery当中</span></span><br><span class="line"><span class="comment">                    for(var i = 0; i &lt; temp.children.length; i++)&#123;</span></span><br><span class="line"><span class="comment">                        this[i] = temp.children[i];</span></span><br><span class="line"><span class="comment">                    &#125;</span></span><br><span class="line"><span class="comment">                    // 3.给jQuery对象添加length属性</span></span><br><span class="line"><span class="comment">                    this.length = temp.children.length;</span></span><br><span class="line"><span class="comment">                    */</span></span><br><span class="line">                    [].push.apply(<span class="keyword">this</span>, temp.children);</span><br><span class="line">                    <span class="comment">// 此时此刻的this是njQuery对象</span></span><br><span class="line">                    <span class="comment">// 4.返回加工好的this(jQuery)</span></span><br><span class="line">                    <span class="comment">// return this;</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 2.2判断是否是选择器</span></span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="comment">// 1.根据传入的选择器找到对应的元素</span></span><br><span class="line">                    <span class="keyword">var</span> res = <span class="built_in">document</span>.querySelectorAll(selector);</span><br><span class="line">                    <span class="comment">// 2.将找到的元素添加到njQuery上</span></span><br><span class="line">                    [].push.apply(<span class="keyword">this</span>, res);</span><br><span class="line">                    <span class="comment">// 3.返回加工上的this</span></span><br><span class="line">                    <span class="comment">// return this;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 4.数组</span></span><br><span class="line">            <span class="comment">// else if(typeof selector === "object" &amp;&amp;</span></span><br><span class="line">            <span class="comment">//         "length" in selector &amp;&amp;</span></span><br><span class="line">            <span class="comment">//          selector !== window)&#123;</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(njQuery.isArray(selector))&#123;</span><br><span class="line">                <span class="comment">/*</span></span><br><span class="line"><span class="comment">                // 3.1真数组</span></span><br><span class="line"><span class="comment">                if((&#123;&#125;).toString.apply(selector) === "[object Array]")&#123;</span></span><br><span class="line"><span class="comment">                    [].push.apply(this, selector);</span></span><br><span class="line"><span class="comment">                    return this;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">                // 3.2伪数组</span></span><br><span class="line"><span class="comment">                else &#123;</span></span><br><span class="line"><span class="comment">                    // 将自定义的伪数组转换为真数组</span></span><br><span class="line"><span class="comment">                    var arr = [].slice.call(selector);</span></span><br><span class="line"><span class="comment">                    // 将真数组转换为伪数组</span></span><br><span class="line"><span class="comment">                    [].push.apply(this, arr);</span></span><br><span class="line"><span class="comment">                    return this;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">                <span class="comment">// 将自定义的伪数组转换为真数组</span></span><br><span class="line">                <span class="keyword">var</span> arr = [].slice.call(selector);</span><br><span class="line">                <span class="comment">// 将真数组转换为伪数组</span></span><br><span class="line">                [].push.apply(<span class="keyword">this</span>, arr);</span><br><span class="line">                <span class="comment">// return this;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 5.除上述类型以外</span></span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">this</span>[<span class="number">0</span>] = selector;</span><br><span class="line">                <span class="keyword">this</span>.length = <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// return this;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    njQuery.extend = njQuery.prototype.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">            <span class="keyword">this</span>[key] = obj[key];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    njQuery.extend(&#123;</span><br><span class="line">        isString : <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> str === <span class="string">"string"</span></span><br><span class="line">    &#125;,</span><br><span class="line">        isHTML : <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> str.charAt(<span class="number">0</span>) == <span class="string">"&lt;"</span> &amp;&amp;</span><br><span class="line">                str.charAt(str.length - <span class="number">1</span>) == <span class="string">"&gt;"</span> &amp;&amp;</span><br><span class="line">                str.length &gt;= <span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        trim : <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(!njQuery.isString(str))&#123;</span><br><span class="line">                <span class="keyword">return</span> str;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 判断是否支持trim方法</span></span><br><span class="line">            <span class="keyword">if</span>(str.trim)&#123;</span><br><span class="line">                <span class="keyword">return</span> str.trim();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> str.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        isObject : <span class="function"><span class="keyword">function</span>(<span class="params">sele</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">typeof</span> sele === <span class="string">"object"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        isWindow : <span class="function"><span class="keyword">function</span>(<span class="params">sele</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> sele === <span class="built_in">window</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        isArray : <span class="function"><span class="keyword">function</span>(<span class="params">sele</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(njQuery.isObject(sele) &amp;&amp;</span><br><span class="line">                !njQuery.isWindow(sele) &amp;&amp;</span><br><span class="line">                <span class="string">"length"</span> <span class="keyword">in</span> sele)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        isFunction : <span class="function"><span class="keyword">function</span>(<span class="params">sele</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">typeof</span> sele === <span class="string">"function"</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        ready: <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 判断DOM是否加载完毕</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">document</span>.readyState == <span class="string">"complete"</span>)&#123;</span><br><span class="line">                fn();</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">document</span>.addEventListener)&#123;</span><br><span class="line">                <span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                    fn();</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">document</span>.attachEvent(<span class="string">"onreadystatechange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="built_in">document</span>.readyState == <span class="string">"complete"</span>)&#123;</span><br><span class="line">                       fn();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    njQuery.prototype.init.prototype = njQuery.prototype;</span><br><span class="line">    <span class="built_in">window</span>.njQuery = <span class="built_in">window</span>.$ = njQuery;</span><br><span class="line">&#125;)( <span class="built_in">window</span> );</span><br></pre></td></tr></table></figure>

<h2 id="JQ原型上的属性和方法"><a href="#JQ原型上的属性和方法" class="headerlink" title="JQ原型上的属性和方法"></a>JQ原型上的属性和方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">jQ原型上的核心方法和属性：</span><br><span class="line"><span class="number">1</span>、jquery 获取jQ版本号</span><br><span class="line"><span class="number">2</span>、selector 实例默认的选择器取值</span><br><span class="line"><span class="number">3</span>、length 实例默认的长度</span><br><span class="line"><span class="number">3</span>、push 给实例添加新元素</span><br><span class="line"><span class="number">4</span>、sort 对实例中的元素进行排序</span><br><span class="line"><span class="number">5</span>、splice 按照指定下标指定数量删除元素，也可以替换删除的元素</span><br><span class="line"><span class="number">6</span>、toArray 把实例转换为数组返回</span><br><span class="line"><span class="number">7</span>、<span class="keyword">get</span>  获取指定下标的元素，获取的是原生DOM(如果不传递参数相当于toArray方法)</span><br><span class="line">6、eq 获取指定下标的元素，获取的是jQuery类型的实例对象</span><br><span class="line">7、first 获取实例中的第一个元素，是jQuery类型的实例对象</span><br><span class="line">8、last 获取实例中的最后一个元素，是jQuery类型的实例对象</span><br><span class="line">9、each 遍历实例，把遍历到的数据传给回调使用</span><br><span class="line">10、map  遍历实例，把遍历到的数据传给回调使用，然后把回调的返回值收集起来组成一个新的数组返回</span><br></pre></td></tr></table></figure>

<h2 id="JQ的DOM元素操作的相关方法"><a href="#JQ的DOM元素操作的相关方法" class="headerlink" title="JQ的DOM元素操作的相关方法"></a>JQ的DOM元素操作的相关方法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">1.empty  清空指定元素中所有的内容  (返回你调用的那个实例)</span><br><span class="line">2.remove 删除所有的元素或指定元素</span><br><span class="line">3.html   设置所有元素的内容，获取第一个元素的内容</span><br><span class="line">4.text   设置所有元素的文本内容，获取所有元素的文本内容</span><br><span class="line"></span><br><span class="line">5.appendTo 将元素添加到指定元素内部的最后</span><br><span class="line">特点:如果指定元素有多个，会将元素拷贝多份添加到指定元素中</span><br><span class="line">     传递字符串的化，会根据字符串找到对应元素和再添加</span><br><span class="line">     传递JQ对象的话，会将元素添加到JQ对象保存的所有指定元素中</span><br><span class="line">     传递DOM元素的话，会将元素添加到DOM元素保存的所有DOM元素中</span><br><span class="line">6.append   将元素添加到指定元素内部的最后</span><br><span class="line">不同点:参数写的顺序不同</span><br><span class="line">      appendTo会把字符串当作选择器处理，append不会</span><br><span class="line">      appendTo返回一个JQ对象，append返回调用者</span><br><span class="line"></span><br><span class="line">7.prependTo 将元素添加到指定元素内部的最前面</span><br><span class="line">8.prepend   将元素添加到指定元素内部的最前面</span><br><span class="line">不同点:参数写的顺序不同</span><br><span class="line">      appendTo会把字符串当作选择器处理，append不会</span><br><span class="line">      appendTo返回一个JQ对象，append返回调用者</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">9.insertAfter 将元素添加到指定元素外部的后面</span><br><span class="line">10.after      将元素添加到指定元素外部的后面</span><br><span class="line">不同点:参数写的顺序不同</span><br><span class="line">      不会识别选择器</span><br><span class="line"></span><br><span class="line">11.insertBefore  将元素添加到指定元素外部的前面 (调用者是谁就会将元素插入到谁里面)</span><br><span class="line">12.before        将元素添加到指定元素外部的前面</span><br><span class="line">不同点:参数写的顺序不同</span><br><span class="line">      不会识别选择器</span><br><span class="line">13.replaceAll  替换所有指定元素</span><br><span class="line">14.replaceWith 替换所有指定元素</span><br><span class="line">不同点:参数写的顺序不同</span><br><span class="line"></span><br><span class="line">15.clone     复制节点(深复制true 浅复制false)</span><br></pre></td></tr></table></figure>

<h2 id="JQ属性节点操作方法"><a href="#JQ属性节点操作方法" class="headerlink" title="JQ属性节点操作方法"></a>JQ属性节点操作方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>attr():设置或者获取元素的属性节点值  </span><br><span class="line">(传递一个参数放回第一个元素属性节点的值,传递两个参数，代表所有元素属性节点的值，传递一个对象，代表批量设置所有元素属性节点的值)</span><br><span class="line"><span class="number">2.</span>prop():设置或者获取元素的属性值</span><br><span class="line"><span class="number">3.</span>css(): 设置获取样式</span><br><span class="line"><span class="number">4.</span>val(): 获取设置value的值</span><br><span class="line"><span class="number">5.</span>hasClass():判断有没有指定类  (包含指定参数则返回<span class="literal">true</span> 没有返回或没用参数返回<span class="literal">false</span>)</span><br><span class="line"><span class="number">6.</span>addClass():给所有元素添加指定类或所有类</span><br><span class="line"><span class="number">7.</span>removeClass():清空所有元素指定类或所有类</span><br><span class="line"><span class="number">8.</span>toggleClass():有则删除，没有则添加</span><br></pre></td></tr></table></figure>

<h2 id="JQ事件操作方法"><a href="#JQ事件操作方法" class="headerlink" title="JQ事件操作方法"></a>JQ事件操作方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">on(type,callback):注册事件 </span><br><span class="line">(注册多个相同类型的事件后注册的不会覆盖先注册的,注册多个不同类型的事件后注册的不会覆盖先注册的)</span><br><span class="line">off(type,callback):移出事件 (不传参，会移除所有事件。传一个参数会移除对应类型所有事件，传两个参数会移除对应类型事件)</span><br></pre></td></tr></table></figure>

<h1 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h1><h2 id="php语法基础"><a href="#php语法基础" class="headerlink" title="php语法基础"></a>php语法基础</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>定义变量</span><br><span class="line">$变量名</span><br><span class="line"><span class="number">2.</span>打印变量</span><br><span class="line"><span class="keyword">echo</span>变量名  (<span class="keyword">echo</span>不能打印数组和对象);</span><br><span class="line"><span class="number">3.</span>定义数组</span><br><span class="line">$arr =<span class="keyword">array</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>);</span><br><span class="line">print_r($arr);</span><br><span class="line"><span class="keyword">echo</span> $arr[<span class="number">1</span>];</span><br><span class="line"><span class="number">4.</span>定义对象(字典)</span><br><span class="line">$dict=(<span class="string">"name"</span>=&gt;<span class="string">"lzh"</span>,<span class="string">"age"</span>=&gt;<span class="string">"21"</span>);</span><br><span class="line"><span class="keyword">echo</span> $dict[<span class="string">"name"</span>];</span><br></pre></td></tr></table></figure>

<h2 id="GET-POST"><a href="#GET-POST" class="headerlink" title="GET-POST"></a>GET-POST</h2><p>两者异同</p>
<blockquote>
<p>GET请求对数据大小有限制  </p>
<p>POST请求对数据大小没有限制</p>
<p>GET:会把提交的数据拼接在URL后面<br>POST:会把提交的数据放在请求头中</p>
</blockquote>
<p>POST上传文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">enctype=<span class="string">"multipart/form-dlingshiata"</span>  必须要有这个属性在表单里</span><br><span class="line">移动上传的文件</span><br><span class="line">move_uploaded_file(临时路径,)</span><br></pre></td></tr></table></figure>

<h2 id="使用Ajax的五个步骤"><a href="#使用Ajax的五个步骤" class="headerlink" title="使用Ajax的五个步骤"></a>使用Ajax的五个步骤</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>创建一个异步对象</span><br><span class="line">xmlhttp=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"><span class="comment">//如果要同时兼容高级和低级浏览器 需要这么写，就不用上面那句了</span></span><br><span class="line"><span class="keyword">var</span> xmlhttp;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest)</span><br><span class="line">  &#123;<span class="comment">// code for IE7+, Firefox, Chrome, Opera, Safari</span></span><br><span class="line">  xmlhttp=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  &#123;<span class="comment">// code for IE6, IE5</span></span><br><span class="line">  xmlhttp=<span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="number">2.</span>设置请求方式和请求地址</span><br><span class="line">method：请求的类型；GET 或 POST</span><br><span class="line">url：文件在服务器上的位置</span><br><span class="line"><span class="keyword">async</span>：<span class="literal">true</span>（异步）或 <span class="literal">false</span>（同步）</span><br><span class="line">xmlhttp.open(<span class="string">"GET"</span>,<span class="string">"地址?t="</span>+(<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()),<span class="literal">true</span>);<span class="comment">//如果想低级的IE每次都获取到最新的数据需要在传地址时也给他传一个参数</span></span><br><span class="line"><span class="number">3.</span>发送请求</span><br><span class="line">xmlhttp.send();</span><br><span class="line"><span class="number">4.</span>监听变化</span><br><span class="line">xmlhttp.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="number">0</span>: 请求未初始化</span><br><span class="line">    <span class="number">1</span>: 服务器连接已建立</span><br><span class="line">    <span class="number">2</span>: 请求已接收</span><br><span class="line">    <span class="number">3</span>: 请求处理中</span><br><span class="line">    <span class="number">4</span>: 请求已完成，且响应已就绪</span><br><span class="line">    <span class="keyword">if</span>(xmlhttp.readyState==<span class="number">4</span>)&#123;</span><br><span class="line">        <span class="number">5.</span>处理结果</span><br><span class="line">        <span class="keyword">if</span>(xmlhttp.status&gt;=<span class="number">200</span>&amp;&amp;xmlhttp.status&lt;<span class="number">300</span>||xmlhttp.status==<span class="number">304</span>)&#123;</span><br><span class="line">            成功</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            失败</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">在前端页面的书写格式</span><br><span class="line"><span class="keyword">var</span> btn=<span class="built_in">document</span>.querySelector(<span class="string">"button"</span>);</span><br><span class="line">btn.onclick=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    ajax(<span class="string">"地址"</span>,&#123;</span><br><span class="line">        <span class="string">"参数名"</span>:参数</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">参数</span>)</span>&#123;</span><br><span class="line">        成功处理</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">参数</span>)</span>&#123;</span><br><span class="line">        失败处理</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="响应数据"><a href="#响应数据" class="headerlink" title="响应数据"></a>响应数据</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">responseText	获得字符串形式的响应数据。</span><br><span class="line">responseXML	获得 XML 形式的响应数据</span><br></pre></td></tr></table></figure>

<h2 id="JQ使用Ajax"><a href="#JQ使用Ajax" class="headerlink" title="JQ使用Ajax"></a>JQ使用Ajax</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">   type: <span class="string">"POST"</span>,</span><br><span class="line">   url: <span class="string">"some.php"</span>,</span><br><span class="line">   data: <span class="string">"name=John&amp;location=Boston"</span>,</span><br><span class="line">   success: <span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span><br><span class="line">     alert( <span class="string">"Data Saved: "</span> + msg );</span><br><span class="line">   &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="示例–微博"><a href="#示例–微博" class="headerlink" title="示例–微博"></a>示例–微博</h2><blockquote>
<p>Html</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>新浪微博-jQuery基础<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery.cookie.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/nav.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/left.png"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">"comment"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"发布"</span> <span class="attr">class</span>=<span class="string">"send"</span> <span class="attr">disabled</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/right.png"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"messageList"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;a href="javascript:;" class="cur"&gt;1&lt;/a&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;a href="javascript:;"&gt;2&lt;/a&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;a href="javascript:;"&gt;3&lt;/a&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>CSS</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,<span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/body_bg.jpg"</span>) no-repeat center <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">48px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav</span>&gt;<span class="selector-tag">img</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ebdbd4</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">200px</span> auto <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&gt;<span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&gt;<span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">240px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&gt;<span class="selector-class">.center</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">168px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/comment.png"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">600px</span> <span class="number">168px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span>&gt;<span class="selector-class">.comment</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">570px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">73px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="comment">/*background: red;*/</span></span><br><span class="line">    <span class="attribute">resize</span>: none;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span>&gt;<span class="selector-class">.send</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">82px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">506px</span>;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fd8040</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&gt;<span class="selector-class">.messageList</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.messageList</span>&gt;<span class="selector-class">.info</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.info</span>&gt;<span class="selector-class">.infoText</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.info</span>&gt;<span class="selector-class">.infoOperation</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.infoOperation</span>&gt;<span class="selector-class">.infoTime</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.infoOperation</span>&gt;<span class="selector-class">.infoHandle</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.infoHandle</span>&gt;<span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/icons.png"</span>) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.infoHandle</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">17px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.infoHandle</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:nth-child(3)</span>&#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">33px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#9f5024</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">text-align</span>: right;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span>&gt;<span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2b2b2b</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span>&gt;<span class="selector-class">.cur</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>JS</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 0.监听内容的时时输入</span></span><br><span class="line">    $(<span class="string">"body"</span>).delegate(<span class="string">".comment"</span>,<span class="string">"propertychange input"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 判断是否输入了内容</span></span><br><span class="line">        <span class="keyword">if</span>($(<span class="keyword">this</span>).val().length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// 让按钮可用</span></span><br><span class="line">            $(<span class="string">".send"</span>).prop(<span class="string">"disabled"</span>, <span class="literal">false</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// 让按钮不可用</span></span><br><span class="line">            $(<span class="string">".send"</span>).prop(<span class="string">"disabled"</span>, <span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// var number = $.getCookie("pageNumber") || 1;</span></span><br><span class="line">    <span class="keyword">var</span> number = <span class="built_in">window</span>.location.hash.substring(<span class="number">1</span>) || <span class="number">1</span>;</span><br><span class="line">    getMsgPage();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getMsgPage</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">".page"</span>).html(<span class="string">""</span>);</span><br><span class="line">        <span class="comment">// weibo.php?act=get_page_count	获取页数</span></span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            type:<span class="string">"get"</span>,</span><br><span class="line">            url:<span class="string">"weibo.php"</span>,</span><br><span class="line">            data:<span class="string">"act=get_page_count"</span>,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// console.log(msg);</span></span><br><span class="line">                <span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">"("</span>+msg+<span class="string">")"</span>);</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; obj.count; i++)&#123;</span><br><span class="line">                    <span class="keyword">var</span> $a = $(<span class="string">"&lt;a href=\"javascript:;\"&gt;"</span>+(i+<span class="number">1</span>)+<span class="string">"&lt;/a&gt;"</span>);</span><br><span class="line">                    <span class="keyword">if</span>(i === (number<span class="number">-1</span>))&#123;</span><br><span class="line">                        $a.addClass(<span class="string">"cur"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    $(<span class="string">".page"</span>).append($a);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123;</span><br><span class="line">                alert(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// console.log(number);</span></span><br><span class="line">    getMsgList(number);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getMsgList</span>(<span class="params">number</span>)</span>&#123;</span><br><span class="line">        $(<span class="string">".messageList"</span>).html(<span class="string">""</span>);</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            type:<span class="string">"get"</span>,</span><br><span class="line">            url:<span class="string">"weibo.php"</span>,</span><br><span class="line">            data:<span class="string">"act=get&amp;page="</span>+number,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">"("</span>+msg+<span class="string">")"</span>);</span><br><span class="line">                $.each(obj, <span class="function"><span class="keyword">function</span> (<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">                    <span class="comment">// console.log(value);</span></span><br><span class="line">                    <span class="comment">// 根据内容创建节点</span></span><br><span class="line">                    <span class="keyword">var</span> $weibo = createEle(value);</span><br><span class="line">                    $weibo.get(<span class="number">0</span>).obj = value;</span><br><span class="line">                    <span class="comment">// 插入微博</span></span><br><span class="line">                    $(<span class="string">".messageList"</span>).append($weibo);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;,</span><br><span class="line">            error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123;</span><br><span class="line">                alert(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.监听发布按钮的点击</span></span><br><span class="line">    $(<span class="string">".send"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 拿到用户输入的内容</span></span><br><span class="line">        <span class="keyword">var</span> $text = $(<span class="string">".comment"</span>).val();</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            type:<span class="string">"get"</span>,</span><br><span class="line">            url:<span class="string">"weibo.php"</span>,</span><br><span class="line">            data:<span class="string">"act=add&amp;content="</span>+$text,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">                <span class="comment">/*</span></span><br><span class="line"><span class="comment">                &#123;error: 0, id: 新添加内容的ID, time: 添加时间, acc: 点赞数, ref: 点踩数&#125;</span></span><br><span class="line"><span class="comment">                非标准的JSON字符串: &#123;error: 0, id: 1, time: 1526541587, acc: 0, ref: 0&#125;</span></span><br><span class="line"><span class="comment">                标准的JSON字符串: &#123;"error": "0", "id": "1", "time": "1526541587", "acc": "0", "ref": "0"&#125;</span></span><br><span class="line"><span class="comment">                VM179:1 Uncaught SyntaxError: Unexpected token e in JSON at position 1</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">                <span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">"("</span>+msg+<span class="string">")"</span>);</span><br><span class="line">                obj.content = $text;</span><br><span class="line">                <span class="comment">// console.log(obj);</span></span><br><span class="line">                <span class="comment">// 根据内容创建节点</span></span><br><span class="line">                <span class="keyword">var</span> $weibo = createEle(obj);</span><br><span class="line">                $weibo.get(<span class="number">0</span>).obj = obj;</span><br><span class="line">                <span class="comment">// 插入微博</span></span><br><span class="line">                $(<span class="string">".messageList"</span>).prepend($weibo);</span><br><span class="line">                <span class="comment">// 清空输入框的内容</span></span><br><span class="line">                $(<span class="string">".comment"</span>).val(<span class="string">""</span>);</span><br><span class="line">                <span class="comment">// 重新获取一下页码</span></span><br><span class="line">                getMsgPage();</span><br><span class="line">                <span class="comment">// 删除最前面一条微博</span></span><br><span class="line">                <span class="keyword">if</span>($(<span class="string">".info"</span>).length &gt; <span class="number">6</span>)&#123;</span><br><span class="line">                    $(<span class="string">".info:last-child"</span>).remove();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123;</span><br><span class="line">                alert(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 2.监听顶点击</span></span><br><span class="line">    $(<span class="string">"body"</span>).delegate(<span class="string">".infoTop"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).text(<span class="built_in">parseInt</span>($(<span class="keyword">this</span>).text()) + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> obj = $(<span class="keyword">this</span>).parents(<span class="string">".info"</span>).get(<span class="number">0</span>).obj;</span><br><span class="line">        <span class="comment">// weibo.php?act=acc&amp;id=12			顶某一条数据</span></span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            type:<span class="string">"get"</span>,</span><br><span class="line">            url:<span class="string">"weibo.php"</span>,</span><br><span class="line">            data:<span class="string">"act=acc&amp;id="</span>+obj.id,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(msg);</span><br><span class="line">            &#125;,</span><br><span class="line">            error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123;</span><br><span class="line">                alert(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 3.监听踩点击</span></span><br><span class="line">    $(<span class="string">"body"</span>).delegate(<span class="string">".infoDown"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).text(<span class="built_in">parseInt</span>($(<span class="keyword">this</span>).text()) + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> obj = $(<span class="keyword">this</span>).parents(<span class="string">".info"</span>).get(<span class="number">0</span>).obj;</span><br><span class="line">        <span class="comment">// weibo.php?act=ref&amp;id=12			踩某一条数据</span></span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            type:<span class="string">"get"</span>,</span><br><span class="line">            url:<span class="string">"weibo.php"</span>,</span><br><span class="line">            data:<span class="string">"act=ref&amp;id="</span>+obj.id,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(msg);</span><br><span class="line">            &#125;,</span><br><span class="line">            error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123;</span><br><span class="line">                alert(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 4.监听删除点击</span></span><br><span class="line">    $(<span class="string">"body"</span>).delegate(<span class="string">".infoDel"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).parents(<span class="string">".info"</span>).remove();</span><br><span class="line">        <span class="keyword">var</span> obj = $(<span class="keyword">this</span>).parents(<span class="string">".info"</span>).get(<span class="number">0</span>).obj;</span><br><span class="line">        <span class="comment">// weibo.php?act=del&amp;id=12			删除一条数据</span></span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            type:<span class="string">"get"</span>,</span><br><span class="line">            url:<span class="string">"weibo.php"</span>,</span><br><span class="line">            data:<span class="string">"act=del&amp;id="</span>+obj.id,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(msg);</span><br><span class="line">            &#125;,</span><br><span class="line">            error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123;</span><br><span class="line">                alert(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// 重新获取当前这一页数据</span></span><br><span class="line">        <span class="comment">// console.log($(".cur").html());</span></span><br><span class="line">        getMsgList($(<span class="string">".cur"</span>).html());</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 5.监听页码点击</span></span><br><span class="line">    $(<span class="string">"body"</span>).delegate(<span class="string">".page&gt;a"</span>, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).addClass(<span class="string">"cur"</span>);</span><br><span class="line">        $(<span class="keyword">this</span>).siblings().removeClass(<span class="string">"cur"</span>);</span><br><span class="line">        <span class="comment">// console.log($(this).html());</span></span><br><span class="line">        getMsgList($(<span class="keyword">this</span>).html());</span><br><span class="line">        <span class="comment">// 保存当前点击的页码</span></span><br><span class="line">        <span class="comment">// $.addCookie("pageNumber", $(this).html());</span></span><br><span class="line">        <span class="built_in">window</span>.location.hash = $(<span class="keyword">this</span>).html();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 创建节点方法</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createEle</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $weibo = $(<span class="string">"&lt;div class=\"info\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"            &lt;p class=\"infoText\"&gt;"</span>+obj.content+<span class="string">"&lt;/p&gt;\n"</span> +</span><br><span class="line">            <span class="string">"            &lt;p class=\"infoOperation\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"                &lt;span class=\"infoTime\"&gt;"</span>+formartDate(obj.time)+<span class="string">"&lt;/span&gt;\n"</span> +</span><br><span class="line">            <span class="string">"                &lt;span class=\"infoHandle\"&gt;\n"</span> +</span><br><span class="line">            <span class="string">"                    &lt;a href=\"javascript:;\" class='infoTop'&gt;"</span>+obj.acc+<span class="string">"&lt;/a&gt;\n"</span> +</span><br><span class="line">            <span class="string">"                    &lt;a href=\"javascript:;\" class='infoDown'&gt;"</span>+obj.ref+<span class="string">"&lt;/a&gt;\n"</span> +</span><br><span class="line">            <span class="string">"                    &lt;a href=\"javascript:;\" class='infoDel'&gt;删除&lt;/a&gt;\n"</span> +</span><br><span class="line">            <span class="string">"                &lt;/span&gt;\n"</span> +</span><br><span class="line">            <span class="string">"            &lt;/p&gt;\n"</span> +</span><br><span class="line">            <span class="string">"        &lt;/div&gt;"</span>);</span><br><span class="line">        <span class="keyword">return</span> $weibo;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 生成时间方法</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">formartDate</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(time * <span class="number">1000</span>);</span><br><span class="line">        <span class="comment">// 2018-4-3 21:30:23</span></span><br><span class="line">        <span class="keyword">var</span> arr = [date.getFullYear() + <span class="string">"-"</span>,</span><br><span class="line">            date.getMonth() + <span class="number">1</span> + <span class="string">"-"</span>,</span><br><span class="line">            date.getDate() + <span class="string">" "</span>,</span><br><span class="line">            date.getHours() + <span class="string">":"</span>,</span><br><span class="line">            date.getMinutes() + <span class="string">":"</span>,</span><br><span class="line">            date.getSeconds()];</span><br><span class="line">        <span class="keyword">return</span> arr.join(<span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Php</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">**********************************************</span></span><br><span class="line"><span class="comment">	usage:</span></span><br><span class="line"><span class="comment">			weibo.php?act=add&amp;content=xxx	添加一条</span></span><br><span class="line"><span class="comment">				返回：&#123;error: 0, id: 新添加内容的ID, time: 添加时间, acc: 点赞数, ref: 点踩数&#125;</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			weibo.php?act=get_page_count	获取页数</span></span><br><span class="line"><span class="comment">				返回：&#123;count:页数&#125;</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			weibo.php?act=get&amp;page=1		获取一页数据</span></span><br><span class="line"><span class="comment">				返回：[&#123;id: ID, content: "内容", time: 时间戳, acc: 顶次数, ref: 踩次数&#125;, &#123;...&#125;, ...]</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			weibo.php?act=acc&amp;id=12			顶某一条数据</span></span><br><span class="line"><span class="comment">				返回：&#123;error:0&#125;</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			weibo.php?act=ref&amp;id=12			踩某一条数据</span></span><br><span class="line"><span class="comment">				返回：&#123;error:0&#125;</span></span><br><span class="line"><span class="comment">				</span></span><br><span class="line"><span class="comment">			weibo.php?act=del&amp;id=12			删除一条数据</span></span><br><span class="line"><span class="comment">				返回：&#123;error:0&#125;</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	注意：	服务器所返回的时间戳都是秒（JS是毫秒）</span></span><br><span class="line"><span class="comment">**********************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">error_reporting(E_ALL ^ E_DEPRECATED);</span><br><span class="line"><span class="comment">//创建数据库之类的</span></span><br><span class="line">$db=@mysql_connect(<span class="string">'localhost'</span>, <span class="string">'root'</span>, <span class="string">''</span>) <span class="keyword">or</span> @mysql_connect(<span class="string">'localhost'</span>, <span class="string">'root'</span>, <span class="string">'admin'</span>);</span><br><span class="line"></span><br><span class="line">mysql_query(<span class="string">"set names 'utf8'"</span>);</span><br><span class="line">mysql_query(<span class="string">'CREATE DATABASE nj_ajax'</span>);</span><br><span class="line"></span><br><span class="line">mysql_select_db(<span class="string">'nj_ajax'</span>);</span><br><span class="line"></span><br><span class="line">$sql= &lt;&lt;&lt; END</span><br><span class="line">CREATE TABLE  `nj_ajax`.`weibo` (</span><br><span class="line">`ID` INT NOT <span class="keyword">NULL</span> AUTO_INCREMENT PRIMARY KEY ,</span><br><span class="line">`content` TEXT NOT <span class="keyword">NULL</span> ,</span><br><span class="line">`time` INT NOT <span class="keyword">NULL</span> ,</span><br><span class="line">`acc` INT NOT <span class="keyword">NULL</span> ,</span><br><span class="line">`ref` INT NOT <span class="keyword">NULL</span></span><br><span class="line">) CHARACTER SET utf8 COLLATE utf8_general_ci</span><br><span class="line">END;</span><br><span class="line"></span><br><span class="line">mysql_query($sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">//正式开始</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//header('Content-type:zns/json');</span></span><br><span class="line"></span><br><span class="line">$act=$_GET[<span class="string">'act'</span>];</span><br><span class="line">$PAGE_SIZE=<span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>($act)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'add'</span>:</span><br><span class="line">		$content=urldecode($_GET[<span class="string">'content'</span>]);</span><br><span class="line">		$time=time();</span><br><span class="line">		</span><br><span class="line">		$content=str_replace(<span class="string">"\n"</span>, <span class="string">""</span>, $content);</span><br><span class="line">		</span><br><span class="line">		$sql=<span class="string">"INSERT INTO weibo (ID, content, time, acc, ref) VALUES(0, '&#123;$content&#125;', &#123;$time&#125;, 0, 0)"</span>;</span><br><span class="line">		</span><br><span class="line">		mysql_query($sql);</span><br><span class="line">		</span><br><span class="line">		$res=mysql_query(<span class="string">'SELECT LAST_INSERT_ID()'</span>);</span><br><span class="line">		</span><br><span class="line">		$row=mysql_fetch_array($res);</span><br><span class="line">		</span><br><span class="line">		$id=(int)$row[<span class="number">0</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"&#123;error: 0, id: &#123;$id&#125;, time: &#123;$time&#125;, acc: 0, ref: 0&#125;"</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'get_page_count'</span>:</span><br><span class="line">		$sql=<span class="string">"SELECT COUNT(*)/&#123;$PAGE_SIZE&#125;+1 FROM weibo"</span>;</span><br><span class="line">		</span><br><span class="line">		mysql_query($sql);</span><br><span class="line">		</span><br><span class="line">		$res=mysql_query($sql);</span><br><span class="line">		</span><br><span class="line">		$row=mysql_fetch_array($res);</span><br><span class="line">		</span><br><span class="line">		$count=(int)$row[<span class="number">0</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"&#123;count: &#123;$count&#125;&#125;"</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'get'</span>:</span><br><span class="line">		$page=(int)$_GET[<span class="string">'page'</span>];</span><br><span class="line">		<span class="keyword">if</span>($page&lt;<span class="number">1</span>)$page=<span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		$s=($page<span class="number">-1</span>)*$PAGE_SIZE;</span><br><span class="line">		</span><br><span class="line">		$sql=<span class="string">"SELECT ID, content, time, acc, ref FROM weibo ORDER BY time DESC LIMIT &#123;$s&#125;, &#123;$PAGE_SIZE&#125;"</span>;</span><br><span class="line">		</span><br><span class="line">		$res=mysql_query($sql);</span><br><span class="line">		</span><br><span class="line">		$aResult=<span class="keyword">array</span>();</span><br><span class="line">		<span class="keyword">while</span>($row=mysql_fetch_array($res))</span><br><span class="line">		&#123;</span><br><span class="line">			$arr=<span class="keyword">array</span>();</span><br><span class="line">			array_push($arr, <span class="string">'id:'</span>.$row[<span class="number">0</span>]);</span><br><span class="line">			array_push($arr, <span class="string">'content:"'</span>.$row[<span class="number">1</span>].<span class="string">'"'</span>);</span><br><span class="line">			array_push($arr, <span class="string">'time:'</span>.$row[<span class="number">2</span>]);</span><br><span class="line">			array_push($arr, <span class="string">'acc:'</span>.$row[<span class="number">3</span>]);</span><br><span class="line">			array_push($arr, <span class="string">'ref:'</span>.$row[<span class="number">4</span>]);</span><br><span class="line">			</span><br><span class="line">			array_push($aResult, implode(<span class="string">','</span>, $arr));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(count($aResult)&gt;<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">echo</span> <span class="string">'[&#123;'</span>.implode(<span class="string">'&#125;,&#123;'</span>, $aResult).<span class="string">'&#125;]'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">echo</span> <span class="string">'[]'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'acc'</span>:</span><br><span class="line">		$id=(int)$_GET[<span class="string">'id'</span>];</span><br><span class="line">		</span><br><span class="line">		$res=mysql_query(<span class="string">"SELECT acc FROM weibo WHERE ID=&#123;$id&#125;"</span>);</span><br><span class="line">		</span><br><span class="line">		$row=mysql_fetch_array($res);</span><br><span class="line">		</span><br><span class="line">		$old=(int)$row[<span class="number">0</span>]+<span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		$sql=<span class="string">"UPDATE weibo SET acc=&#123;$old&#125; WHERE ID=&#123;$id&#125;"</span>;</span><br><span class="line">		</span><br><span class="line">		mysql_query($sql);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">'&#123;error:0&#125;'</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'ref'</span>:</span><br><span class="line">		$id=(int)$_GET[<span class="string">'id'</span>];</span><br><span class="line">		</span><br><span class="line">		$res=mysql_query(<span class="string">"SELECT ref FROM weibo WHERE ID=&#123;$id&#125;"</span>);</span><br><span class="line">		</span><br><span class="line">		$row=mysql_fetch_array($res);</span><br><span class="line">		</span><br><span class="line">		$old=(int)$row[<span class="number">0</span>]+<span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		$sql=<span class="string">"UPDATE weibo SET ref=&#123;$old&#125; WHERE ID=&#123;$id&#125;"</span>;</span><br><span class="line">		</span><br><span class="line">		mysql_query($sql);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">'&#123;error:0&#125;'</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">'del'</span>:</span><br><span class="line">		$id=(int)$_GET[<span class="string">'id'</span>];</span><br><span class="line">		$sql=<span class="string">"DELETE FROM weibo WHERE ID=&#123;$id&#125;"</span>;</span><br><span class="line">		<span class="comment">//echo $sql;exit;</span></span><br><span class="line">		mysql_query($sql);</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">'&#123;error:0&#125;'</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">date.setDate(date.getDate()<span class="number">-1</span>);</span><br><span class="line"><span class="built_in">document</span>.cookie=<span class="string">"age=20;expires="</span>+date.toGMTString()+<span class="string">";"</span>;</span><br><span class="line"><span class="built_in">document</span>.cookie=<span class="string">"name=111;path=/;"</span>;   <span class="comment">//path=/是保存到根路径</span></span><br><span class="line">domain=域名  <span class="comment">//可以访问同个域名的cookie</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>cookie生命周期:默认情况下生命周期是一次会话(浏览器被关闭)，如果expires=设置了过期时间，并且过期时间没有过期，那么下次打开浏览器还存在<br>cookie默认不会保存任何数据</p>
<p>cookie不能一次保存多条数据</p>
<p>cookie有数量和大小限制  数量:20~50 大小:4KB左右</p>
<p>cookie的作用范围:同一个浏览器的同一路径下访问</p>
<p>cookie默认情况下同一浏览器 下一级路径也可以访问</p>
</blockquote>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>LzMiracle</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="http://yoursite.com/2020/05/11/JQuery/">http://yoursite.com/2020/05/11/JQuery/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY<strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/05/11/Node%20JS/">Node JS入门</a>
            
            
            <a class="next" rel="next" href="/2020/01/17/hello-world/">Hello World</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span style="font-size: 12px">© LzMiracle  | 备案号<a href="https://beian.miit.gov.cn" target="_blank" style="font-size: 12px;color:#bbb;">粤ICP备20007557号</a></span>
    </div>
</footer>

    </div>
    <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
{% endif %}
</body>
</html>
